<div class="container w-50 mt-4">
    <h1>Crear tu cuenta</h1>    
    <form id="form-register" (ngSubmit)="onSubmit()">
        <div class="container p-0">
            <div class="row m-0">
                <div class="col-6 pl-0 pr-2"> <!-- name -->
                    <label for="name">Nombre</label>
                    <input name="name" [formControl]="name" type="text" class="form-control" required>
                    <div *ngIf="name.touched && !name.valid">
                        <div class="text-danger" *ngIf="name.errors.required">
                        Ingresa un nombre
                        </div>
                    </div>
                </div>
                <div class="col-6 pl-2 pr-0"> <!-- lastname -->
                    <label for="lastname">Apellido</label>
                    <input 
                    name="lastname" 
                    [formControl]="lastname"
                    type="text" class="form-control" required>
                    <div *ngIf="lastname.touched && !lastname.valid">
                        <div class="text-danger" *ngIf="lastname.errors.required">
                        Ingresa uno o dos apellidos
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- email  -->
        <div class="mt-2">
            <label for="email">Correo electronico</label>
            <input  
                name="email" 
                [formControl]="email"
                type="email" 
                pattern="^[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                name="email" class="form-control"  required>
            <div *ngIf="email.touched && !email.valid">
                <div class="text-danger" *ngIf="email.errors.required">
                Ingresa un correo electronico 
                </div>
                <div class="text-danger" *ngIf="email.errors.pattern">
                    Ingresa un correo electronico valido
                </div>
            </div>
        </div>
        <!-- password  -->
        <div class="mt-2">
            <label for="password">Contraseña</label>
            <input  
                name="password" 
                [formControl]="password"
                minlength="8"
                type="password" class="form-control" required>
            <div *ngIf="password.touched && !password.valid">
                <div class="text-danger" *ngIf="password.errors.required">
                    Ingresa una contraseña
                </div>
                <div class="text-danger" *ngIf="password.errors.minlength">
                    Ingresa una contraseña con minimo 8 caracteres 
                </div>
            </div>
        </div>
        <!-- Confirm password  -->
        <div class="mt-2">
            <label for="confirm_password">Confirmar contraseña</label>
            <input 
                name="password2"
                [formControl]="password2"
                minlength="8"
                type="password" class="form-control" required> 
            <div *ngIf="password2.touched && !password2.valid">
                <div class="text-danger" *ngIf="password != password2">
                    Contraseñas no coinciden
                </div>
            </div>
        </div>
        <!-- Date  -->
        <div class="container p-0 mt-2">
            <label for="date">Fecha de nacimiento</label>
            <div class="row m-0">
                <div class="col-4 pl-0">
                    <label for="month">Mes</label>
                    <select 
                        name="birthdate_month"
                        [formControl]="birthdate_month"
                        class="form-control" id="form_register_date_month" required> 
                        <option value="" selected disabled hidden>Select...</option>
                        <option value="01">Enero</option>
                        <option value="02">Febrero</option>
                        <option value="03">Marzo</option>
                        <option value="04">Abril</option>
                        <option value="05">Mayo</option>
                        <option value="06">Junio</option>
                        <option value="07">Julio</option>
                        <option value="08">Agosto</option>
                        <option value="09">Septiembre</option>
                        <option value="10">Octubre</option>
                        <option value="11">Noviembre</option>
                        <option value="12">Diciembre</option>
                    </select>
                    <div *ngIf="birthdate_month.touched && !birthdate_month.valid">
                        Selecciona un mes
                    </div>
                </div>
                <div class="col-4 pl-0 pr-0">
                    <label for="day">Día</label>
                    <select 
                        name="birthdate_day"
                        [formControl]="birthdate_day"
                        class="form-control" id="form_register_date_day" required>  
                        <option value="" selected disabled hidden>Select...</option>
                        <option value="01">01</option>
                        <option value="02">02</option>
                        <option value="03">03</option>
                        <option value="04">04</option>
                        <option value="05">05</option>
                        <option value="06">06</option>
                        <option value="07">07</option>
                        <option value="08">08</option>
                        <option value="09">09</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                        <option value="29">29</option>
                        <option *ngIf="birthdate_month.value != 2" value="30">30</option>
                        <option *ngIf="birthdate_month.value == 1 || birthdate_month.value == 3 ||
                        birthdate_month.value == 5 || birthdate_month.value == 7 ||
                        birthdate_month.value == 8 || birthdate_month.value == 10 || 
                        birthdate_month.value == 12" value="31">31</option>
                    </select>
                    <div *ngIf="birthdate_day.touched && !birthdate_day.valid">
                        Selecciona una dia 
                    </div>
                </div>
                <div class="col-4 pr-0">
                    <label for="year">Año</label>
                    <select 
                        name="birthdate_year"
                        [formControl]="birthdate_year"
                        type="number" class="form-control" id="form_register_date_year" required> 
                        <option value="" selected disabled hidden>Select...</option>
                        <ng-container *ngFor="let in of counter(121); let i = index">
                            <option value="{{2021-i}}" >{{2021-i}}</option>
                        </ng-container>
                    </select>
                    <div *ngIf="birthdate_year.touched && !birthdate_year.valid">
                        Selecciona un año
                    </div>
                </div>
            </div>
        </div>
        <div class="w-100 d-flex justify-content-center">
            <button class="btn btn-secondary btn-lg mt-3 mr-2" routerLink="/field-component" routerLinkActive="active">Volver</button>
            <button form="form-register" type="submit" class="btn btn-primary btn-lg mt-3 mr-2" id="reg-button" 
            [disabled]="!name.valid || !lastname.valid || !email.valid || !password.valid || !password2.valid 
            || !birthdate_day.valid || !birthdate_month.valid || !birthdate_year.valid"
            >Registrarse</button>
        </div>
    </form>
</div>
